#targetengine "session"LOGGING = true;function log(msg){    if(LOGGING){        var log = File('/Volumes/Data/Hama/Work/0138_Catweazle_Refactoring/catweazle/indesign/logs/log.log');        log.open('e');        log.seek(0, 2);        log.write(msg + '\r');        log.close();        }    	}try{    for(var i = 0; i < app.addons.length; i++){        a = eval('delete ' + app.addons[i]);        // log(app.addons[i] + ': ' + a);        delete app.addons[i];                }    }catch(e){ log(e) }finally{    Application.prototype.addons = [];    }    try{ eval('#include "./lib/__init__.jsx"') }catch(e){ log(e) }log('Imported ' + app.addons.length + ' addons.')// app.addEventListener('afterOpen', // 	// 	function(){	// 	var doc = app.documents[app.documents.length - 1]; // Last opened document// 	var docPath = String(doc.fullName).split('/');// 	var initDocPath = '/Volumes/' + docPath.cut('1:-2').join('/') + '/scripts/initDoc.jsx';// 	w = 5/0// 	try{ app.doScript(File(initDocPath),ScriptLanguage.JAVASCRIPT, [doc]); }// 	// 	catch(e){		// 		var msg = [// 			'Could not execute initDoc',// 			(e.line || '???'),// 			e.name,// 			e.message// 			];// 		log(msg.join('\n'));		// 		// 		}// 	}, // 	// 	false, null);				app.menus[0].submenus.item('Cat&weazle').remove();app.scriptMenuActions.everyItem().remove();(function(){	var menuRoot = app.menus[0].submenus.add('Cat&weazle');	// 	var reloadInitDoc = app.scriptMenuActions.add("Reload initDoc");// 	reloadInitDoc.eventListeners.add("onInvoke", fReloadInitDoc, false);// 	menuRoot.menuItems.add(reloadInitDoc);        var reloadStandardLibrary = app.scriptMenuActions.add("reinit");    reloadStandardLibrary.eventListeners.add("onInvoke", function(){ app.doScript(File($.fileName), ScriptLanguage.JAVASCRIPT) }, false);        menuRoot.menuItems.add(reloadStandardLibrary);	// 	function fReloadInitDoc(){// 		var doc  = app.activeDocument;// 		var docPath = String(doc.fullName).split('/');// 		var initDocPath = '/Volumes/' + docPath.cut('1:-2').join('/') + '/scripts/initDoc.jsx';		// 		// 		try{ // 			app.doScript(File(initDocPath), ScriptLanguage.JAVASCRIPT, [doc]); // 			app.growl('initDoc reloaded for %s'.sprintf(doc.fullName))// 			}// 		catch(e) {app.growl(e.report())}// 		}		})();